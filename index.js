credits = ">LIST PERSONNEL\n\n\nGautam Babbar\nTed Backman\nKelly Bailey\nJeff Ballinger\nAaron Barber\nJeep Barnett\nJeremy Bennett\nDan Berger\nYahn Bernier\nKen Birdwell\nDerrick Birum\nMike Blaszczak\nIestyn Bleasdale-Shepherd\nChris Bokitch\nSteve Bond\nMatt Boone\nAntoine Bourdon\nJamaal Bradley\nJason Brashill\nCharlie Brown\nCharlie Burgin\nAndrew Burke\nAugusta Butlin\nJulie Caldwell\nDario Casali\nChris Chin\nJess Cliffe\nPhil Co\nJohn Cook\nChristen Coomer\nGreg Coomer\nScoot Dalton\nKerry Davis\nJason Deakins\nJoe Demers\nAriel Diaz\nQuintin Doroquez\nJim Dose\nChris Douglass\nLaura Dubuk\nMike Dunkle\nMike Durand\nMike Dussault\nDhabib Eng\nKatie Engel\nChet Faliszek\nAdrian Finol\nBill Fletcher\nMoby Francke\nStephane Gaudette\nKathy Gehrig\nVitaliy Genkin\nPaul Ghram\nChris Green\nChris Grinstead\nJohn Guthrie\nAaron Halifax\nReagan Halifax\nLeslie Hall\nJeff Hameluck\nJoe Han\nDon Holden\nJason Holtman\nGray Horsfield\nKeith Huggins\nJim Hughes\nJon Huisingh\nBrian Jacobson\nLars Jensvold\nErik Johnson\nJakob Jungels\nRich Kaethler\nSteve Kalning\nAaron Kearly\nIikka Keranen\nDavid Kirchmer\nScott Klintworth\nAlden Kroll\nMarc Laidlaw\nJeff Lane\nTim Larkin\nDan LeFree\nIsabelle LeMay\nTom Leonard\nJeff Lind\nDoug Lombardi\nBianca Loomis\nRichard Lord\nRealm Lovejoy\nRandy Lundeen\nScott Lynch\nIdo Magal\nNick Maggiore\nJohn McCaskey\nPatrick McClard\nSteve McClure\nHamish McKenzie\nGary McTaggart\nJason Mitchell\nMike Morasky\nJohn Morello II\nBryn Moslow\nArsenio Navarro\nGabe Newell\nMilton Ngan\nJake Nicholson\nMartin Otten\nNick Papineau\nKaren Prell\nBay Raitt\nTristan Reidford\nAlfred Reynolds\nMatt Rhoten\nGarret Rickey\nDave Riller\nElan Ruskin\nMatthew Russell\nJason Ruymen\nDavid Sawyer\nMarc Scaparro\nWade Schin\nMatthew Scott\nAaron Seeler\nJenifer Seeley\nTaylor Sherman\nEric Smith\nJeff Sorensen\nDavid Speyrer\nJay Stelly\nJeremy Stone\nEric Strand\nKim Swift\nKelly Thornton\nEric Twelker\nCarl Uhlman\nDoug Valente\nBill Van Buren\nGabe Van Engel\nAlex Vlachos\nRobin Walker\nJoshua Weier\nAndrea Wicklund\nGreg Winkler\nErik Wolpaw\nDoug Wood\nMatt T. Wood\nDanika Wright\nMatt Wright\nShawn Zabecki\nTorsten Zabka\n\n\n\n\n'Still Alive' by:\nJonathan Coulton\n\n\nVoices:\nEllen McLain - GLaDOS, Turrets\nMike Patton - THE ANGER SPHERE\n\n\n\nVoice Casting:\nShana Landsburg\\Teri Fiddleman\n\n\n\n\nVoice Recording:\nPure Audio, Seattle, WA\n\n\n\n\nVoice Recording\nscheduling and logistics:\nPat Cockburn, Pure Audio\n\n\n\n\nTranslations:\nSDL\n\n\n\n\nCrack Legal Team:\nLiam Lavery\nKarl Quackenbush\nKristen Boraas\nKevin Rosenfield\nAlan Bruggeman\nDennis Tessier\n\n\n\nThanks for the use of their face:\nAlesia Glidwell - Chell\n\n\n\nSpecial thanks to everyone at:\nAlienware\nATI\nDell\nFalcon Northwest\nHavok\nSOFTIMAGE\nand Don Kemmis, SLK Technologies\n\n\n\n\n\n\n\n\n\nJavascript + HTML5 version of Still Alive:\nUğur KINIK (KınıX)\n\n\n\n\n\n\n\n\n\nTHANK YOU FOR PARTICIPATING\nIN THIS\nENRICHMENT CENTER ACTIVITY!!\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n";
text = "Forms FORM-29827281-12:\nTest Assessment Report\n\nThis was a triumph.\nI'm making a note here:\nHUGE SUCCESS.\nIt's hard to overstate\nmy satisfaction.\nAperture Science\nWe do what we must\nbecause we can.\nFor the good of all of us.\nExcept the ones who are dead.\n\nBut there's no sense crying\nover every mistake.\nYou just keep on trying\ntill you run out of cake.\nAnd the Science gets done.\nAnd you make a neat gun.\nFor the people who are\nstill alive.\n\nForms FORM-55551-5:\nPersonnel File Addendum:\nDear <<Subject Name Here>>\n\nI'm not even angry.\nI'm being so sincere right now.\nEven though you broke my heart.\nAnd killed me.\nAnd tore me to pieces.\nAnd threw every piece into a fire.\nAs they burned it hurt because\nI was so happy for you!\nNow these points of data\nmake a beautiful line.\nAnd we're out of beta.\nWe're releasing on time.\nSo I'm GLaD. I got burned.\nThink of all the things we learned\nfor the people who are\nstill alive.\n\nForms FORM-55551-6:\nPersonnel File Addendum Addendum:\n\nOne last thing:\n\nGo ahead and leave me.\nI think I prefer to stay inside.\nMaybe you'll find someone else\nto help you.\nMaybe Black Mesa...\nTHAT WAS A JOKE. FAT CHANCE.\nAnyway, this cake is great.\nIt's so delicious and moist.\nLook at me still talking\nwhen there's Science to do.\nWhen I look out there,\nit makes me GLaD I'm not you.\nI've experiments to run.\nThere is research to be done.\nOn the people who are\nstill alive.\n\n\n\nPS: And believe me I am\nstill alive.\n\nPPS: I'm doing Science and I'm\nstill alive.\n\nPPPS: I feel FANTASTIC and I'm\nstill alive.\n\nFINAL THOUGHT:\nWhile you're dying I'll be\nstill alive.\n\nFINAL THOUGHT PS:\nAnd when you're dead I will be\nstill alive.\n\n\nSTILL ALIVE\n"
buffer ="";
buffer2= "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n";
cursorPos = 0;
cursorPos2 = 0;
lineStart = 0;
var count, tick;
var startTime;
var symbol = "";

s_aperture = "              .,-:;//;:=,\n          . :H@@@MM@M#H/.,+%;,\n       ,/X+ +M@@M@MM%=,-%HMMM@X/,\n     -+@MM; $M@@MH+-,;XMMMM@MMMM@+-\n    ;@M@@M- XM@X;. -+XXXXXHHH@M@M#@/.\n  ,%MM@@MH ,@%=            .---=-=:=,.\n  =@#@@@MX .,              -%HX$$%%%+;\n =-./@M@M$                  .;@MMMM@MM:\n X@/ -$MM/                    .+MM@@@M$\n,@M@H: :@:                    . =X#@@@@-\n,@@@MMX, .                    /H- ;@M@M=\n.H@@@@M@+,                    %MM+..%#$.\n /MMMM@MMH/.                  XM@MH; =;\n  /%+%$XHH@$=              , .H@@@@MX,\n   .=--------.           -%H.,@@@@@MX,\n   .%MM@@@HHHXX$$$%+- .:$MMX =M@@MM%.\n     =XMMM@MM@MM#H;,-+HMM@M+ /MMMX=\n       =%@M@M#@$-.=$@MM@@@M; %M%=\n         ,:+$+-,/H#MMMMMMM@= =,\n               =++%%%%+/:-.";
s_bio = "             =+$HM####@H%;,\n          /H###############M$,\n          ,@################+\n           .H##############+\n             X############/\n              $##########/\n               %########/\n                /X/;;+X/\n \n                 -XHHX-\n                ,######,\n#############X  .M####M.  X#############\n##############-   -//-   -##############\nX##############%,      ,+##############X\n-##############X        X##############-\n %############%          %############%\n  %##########;            ;##########%\n   ;#######M=              =M#######;\n    .+M###@,                ,@###M+.\n       :XH.                  .HX:";
s_atom = "                 =/;;/-\n                +:    //\n               /;      /;\n              -X        H.\n.//;;;:;;-,   X=        :+   .-;:=;:;%;.\nM-       ,=;;;#:,      ,:#;;:=,       ,@\n:%           :%.=/++++/=.$=           %=\n ,%;         %/:+/;,,/++:+/         ;+.\n   ,+/.    ,;@+,        ,%H;,    ,/+,\n      ;+;;/= @.  .H##X   -X :///+;\n      ;+=;;;.@,  .XM@$.  =X.//;=%/.\n   ,;:      :@%=        =$H:     .+%-\n ,%=         %;-///==///-//         =%,\n;+           :%-;;;:;;;;-X-           +:v\n@-      .-;;;;M-        =M/;;;-.      -X\n :;;::;;-.    %-        :+    ,-;;-;:==\n              ,X        H.\n               ;/      %=\n                //    +;\n                 ,////,";
s_heart = "                          .,---.\n                        ,/XM#MMMX;,\n                      -%##########M%,\n                     -@######%  $###@=\n      .,--,         -H#######$   $###M:\n   ,;$M###MMX;     .;##########$;HM###X=\n ,/@##########H=      ;################+\n-+#############M/,      %##############+\n%M###############=      /##############:\nH################      .M#############;.\n@###############M      ,@###########M:.\nX################,      -$=X#######@:\n/@##################%-     +######$-\n.;##################X     .X#####+,\n .;H################/     -X####+.\n   ,;X##############,       .MM/\n      ,:+$H@M#######M#$-    .$$=\n           .,-=;+$@###X:    ;/=.\n                  .,/X$;   .::,\n                      .,    ..";
s_exp = "            .+\n             /M;\n              H#@:              ;,\n              -###H-          -@/\n               %####$.  -;  .%#X\n                M#####+;#H :M#M.\n..          .+/;%#########X###-\n -/%H%+;-,    +##############/\n    .:$M###MH$%+############X  ,--=;-\n        -/H#####################H+=.\n           .+#################X.\n         =%M####################H;.\n            /@###############+;;/%%;,\n         -%###################$.\n       ;H######################M=\n    ,%#####MH$%;+#####M###-/@####%\n  :$H%+;=-      -####X.,H#   -+M##@-\n .              ,###;    ;      =$##+\n                .#H,               :XH,\n                 +                   .;-";
s_fire = "                     -$-\n                    .H##H,\n                   +######+\n                .+#########H.\n              -$############@.\n            =H###############@  -X:\n          .$##################:  @#@-\n     ,;  .M###################;  H###;\n   ;@#:  @###################@  ,#####:\n -M###.  M#################@.  ;######H\n M####-  +###############$   =@#######X\n H####$   -M###########+   :#########M,\n  /####X-   =########%   :M########@/.\n    ,;%H@X;   .$###X   :##MM@%+;:-\n                 ..\n  -/;:-,.              ,,-==+M########H\n -##################@HX%%+%%$%%%+:,,\n    .-/H%%%+%%$H@###############M@+=:/+:\n/XHX%:#####MH%=    ,---:;;;;/%%XHM,:###$\n$@#MX %+;- ";
s_ok = "                                     :X-\n                                  :X###\n                                ;@####@\n                              ;M######X\n                            -@########$\n                          .$##########@\n                         =M############-\n                        +##############$\n                      .H############$=.\n         ,/:         ,M##########M;.\n      -+@###;       =##########M;\n   =%M#######;     :#########M/\n-$M###########;   :#########/\n ,;X###########; =########$.\n     ;H#########+#######M=\n       ,+##############+\n          /M#########@-\n            ;M######%\n              +####:               ,$M-";
s_blackmesa = "           .-;+$XHHHHHHX$+;-.\n        ,;X@@X%/;=----=:/%X@@X/,\n      =$@@%=.              .=+H@X:\n    -XMX:                      =XMX=\n   /@@:                          =H@+\n  %@X,                            .$@$\n +@X.                               $@%\n-@@,                                .@@=\n%@%                                  +@$\nH@:                                  :@H\nH@:         :H@@@@@@@@@@@@@@@@X!,    =@H\n%@%         ;@M@@@@@@@@@@@@@@@@@H-   +@$\n=@@,        :@@@@@@@@@@@@@@@@@@@@@= .@@:\n +@X        :@@@@@@@@@@@@@@@M@@@@@@:%@%\n  $@$,      ;@@@@@@@@@@@@@@@@@M@@@@@@$.\n   +@@HHHHHHH@@@@@@@@@@@@@@@@@@@@@@@+\n    =X@@@@@@@@@@@@@@@@@@@@@@@@@@@@X=\n      :$@@@@@@@@@@@@@@@@@@@M@@@@$:\n        ,;$@@@@@@@@@@@@@@@@@@X/-\n           .-;+$XXHHHHHX$+;-.";
s_cake = "            ,:/+/-\n            /M/              .,-=;//;-\n       .:/= ;MH/,    ,=/+%$XH@MM#@:\n      -$##@+$###@H@MMM#######H:.    -/H#\n .,H@H@ X######@ -H#####@+-     -+H###@X\n  .,@##H;      +XM##M/,     =%@###@X;-\nX%-  :M##########$.    .:%M###@%:\nM##H,   +H@@@$/-.  ,;$M###@%,          -\nM####M=,,---,.-%%H####M$:          ,+@##\n@##################@/.         :%H##@$-\nM###############H,         ;HM##M$=\n#################.    .=$M##M$=\n################H..;XM##M$=          .:+\nM###################@%=           =+@MH%\n@################M/.          =+H#X%=\n=+M##############M,       -/X#X+;.\n  .;XM##########H=    ,/X#H+:,\n     .=+HM######M+/+HM@+=.\n         ,:/%XM####H/.\n              ,.:=-.";
s_xxx = "       #+ @      # #              M#@\n .    .X  X.%##@;# #   +@#######X. @#%\n   ,==.   ,######M+  -#####%M####M-    #\n  :H##M%:=##+ .M##M,;#####/+#######% ,M#\n .M########=  =@#@.=#####M=M#######=  X#\n :@@MMM##M.  -##M.,#######M#######. =  M\n             @##..###:.    .H####. @@ X,\n   ############: ###,/####;  /##= @#. M\n           ,M## ;##,@#M;/M#M  @# X#% X#\n.%=   ######M## ##.M#:   ./#M ,M #M ,#$\n##/         $## #+;#: #### ;#/ M M- @# :\n#+ #M@MM###M-;M #:$#-##$H# .#X @ + $#. #\n      ######/.: #%=# M#:MM./#.-#  @#: H#\n+,.=   @###: /@ %#,@  ##@X #,-#@.##% .@#\n#####+;/##/ @##  @#,+       /#M    . X,\n   ;###M#@ M###H .#M-     ,##M  ;@@; ###\n   .M#M##H ;####X ,@#######M/ -M###$  -H\n    .M###%  X####H  .@@MM@;  ;@#M@\n      H#M    /@####/      ,++.  / ==-,\n               ,=/:, .+X@MMH@#H  #####$=";


function init()
{
	setResolution();
	startTime = (new Date().getTime());
	count = 0;
	tick = 0;
	setInterval(gameLoop, 70);
}

function setResolution()
{
	var h = $(window).height();
	var w = $(window).width();

	if(w/h < 1.6)
	{
		$('#canvas').css("height","");
		$('#canvas').css("width",w+"px");
	}
	else
	{
		$('#canvas').css("width","");
		$('#canvas').css("height",h+"px");
	}
}

function gameLoop()
{
	window.onresize = setResolution();
	draw();
}

function drawBackground(context)
{
	context.save();

	context.fillText("--------------------------------------------------------", 12, 10);
	for(i=0;i<28;i++)
	{
		context.translate(0,20);
		context.fillText("|", 10, 10);
		context.fillText("|", 400, 10);
	}
	context.translate(0,19);
	context.fillText("--------------------------------------------------------", 12, 10);

	context.restore();

	context.save();
	context.translate(410,0);
	context.fillText("--------------------------------------------------------", 12, 10);
	for(i=0;i<14;i++)
	{
		context.translate(0,20);
		context.fillText("|", 10, 10);
		context.fillText("|", 400, 10);
	}
	context.translate(0,19);
	context.fillText("--------------------------------------------------------", 12, 10);

	context.restore();
}

function drawLines(context)
{
	if(cursorPos<727)
	{
		if(cursorPos<48 && x_time(0))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<68 && x_time(8))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<92 && x_time(12))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<106 && x_time(13))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<129 && x_time(17))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<131 && x_time(19))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<145 && x_time(20))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<162 && x_time(24))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<181 && x_time(27.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<197 && x_time(29.5))  // because we can
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<224 && x_time(32.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<255 && x_time(36))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<303 && x_time(38))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<354 && x_time(42.2))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<406 && x_time(46))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<429 && x_time(50))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<435 && x_time(52))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<443 && x_time(52.6))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos==443 && x_time(54.8) && buffer.length>1)
			buffer = "";
		else if(cursorPos<487 && x_time(55.2))
		{
			buffer += text.charAt(cursorPos++);
			buffer += text.charAt(cursorPos++);
		}
		else if(cursorPos<516 && x_time(57))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<536 && x_time(60))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<549 && x_time(63.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<568 && x_time(65.2))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<579 && x_time(69))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<599 && x_time(70.2))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<614 && x_time(72.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<637 && x_time(75.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<659 && x_time(79.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<664 && x_time(81))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<672 && x_time(82))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<703 && x_time(84.8))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<727 && x_time(88))
			buffer += text.charAt(cursorPos++);
	}
	else if(cursorPos<1171)
	{
		if(cursorPos<759 && x_time(90))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<775 && x_time(92))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<798 && x_time(94.2))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<823 && x_time(96))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<850 && x_time(98.4))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<923 && x_time(100))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos==923 && x_time(107) && buffer.length>1)
			buffer = "";
		else if(cursorPos<976 && x_time(107))
		{
			buffer += text.charAt(cursorPos++);
			buffer += text.charAt(cursorPos++);
		}
		else if(cursorPos<994 && x_time(109.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1017 && x_time(111.9))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1034 && x_time(115.2))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1042 && x_time(116.8))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1050 && x_time(117.7))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1081 && x_time(121))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1094 && x_time(124.4))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1100 && x_time(127.1))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1100 && x_time(127.9))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1106 && x_time(128))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1114 && x_time(128))
		{
			if(count == 0)
			{
				buffer += text.charAt(cursorPos++);
				count++;
			}
			else if(count < cursorPos-1105)
				count++;
			else
				count = 0;
		}
		else if(cursorPos<1131 && x_time(131.8))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1143 && x_time(134.4))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1151 && x_time(137))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1171 && x_time(138.5))
			buffer += text.charAt(cursorPos++);
	}
	else
	{
		if(cursorPos<1200 && x_time(140))
		{
			if(count == 0)
			{
				buffer += text.charAt(cursorPos++);
				buffer += text.charAt(cursorPos++);
				count++;
			}
			else
			{
				buffer += text.charAt(cursorPos++);
				count = 0;
			}
		}
		else if(cursorPos<1398 && x_time(142.5))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos==1398 && x_time(158) && buffer.length>1)
			buffer = "";
		else if(cursorPos<1438 && x_time(158))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1482 && x_time(162))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1542 && x_time(166))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1583 && x_time(170))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1601 && x_time(173))
		{
			buffer += text.charAt(cursorPos++);
			buffer += text.charAt(cursorPos++);
		}
		else if(cursorPos<1648 && x_time(174))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos<1661 && x_time(178))
			buffer += text.charAt(cursorPos++);
		else if(cursorPos==1661 && x_time(180) && buffer.length > 1)
			buffer = "";
	}

	if(x_time(154))
		symbol = s_aperture;
	else if(x_time(152))
		symbol = s_exp;
	else if(x_time(150))
		symbol = s_atom;
	else if(x_time(146))
		symbol = s_aperture;
	else if(x_time(144))
		symbol = s_xxx;
	else if(x_time(142))
		symbol = s_xxx;
	else if(x_time(138))
		symbol = s_cake;
	else if(x_time(128.5))
		symbol = s_blackmesa;
	else if(x_time(102))
		symbol = s_aperture;
	else if(x_time(100))
		symbol = s_atom;
	else if(x_time(98))
		symbol = s_exp;
	else if(x_time(88))
		symbol = s_ok;
	else if(x_time(82))
		symbol = s_fire;
	else if(x_time(75))
		symbol = s_exp;
	else if(x_time(70))
		symbol = s_heart;
	else if(x_time(50))
		symbol = s_aperture;
	else if(x_time(46))
		symbol = s_atom;
	else if(x_time(39))
		symbol = s_aperture;
	else if(x_time(36))
		symbol = s_bio;
	else if(x_time(23.8))
		symbol = s_aperture;

	lines = buffer.split('\n');
	lines_s = symbol.split('\n');

	if((new Date().getTime()/300) % 5 < 3)
		lines[lines.length-1] += "_";

	for(i=0; i<lines.length; i++)
		context.fillText(lines[i], 23,31 + i*20);

	for(i=0; i<lines_s.length; i++)
		context.fillText(lines_s[i], 480, 320 + i*14);

	if(x_time(100))
	{
		buffer2 += credits.charAt(cursorPos2++);
	}
	else if(x_time(10))
	{
		if(tick != 3)
		{
			buffer2 += credits.charAt(cursorPos2++);
			tick++;
		}
		else
		{
			buffer2 += credits.charAt(cursorPos2++);
			buffer2 += credits.charAt(cursorPos2++);
			tick = 0;
		}
	}
	lines = buffer2.split('\n');
	if((new Date().getTime()/300) % 5 > 3)
		lines[lines.length-1] += "_";

	while(lines.length > 14+lineStart)
		lineStart++;

	for(i=lineStart; i<lines.length; i++)
		context.fillText(lines[i], 433,31 + (i-lineStart)*20);

}

function x_time(x)
{
	if((new Date().getTime()) - startTime > x*1000)
		return true;
	return false;
}

function draw()
{
	var canvas = document.getElementById('canvas');
	var context = canvas.getContext("2d");

	context.clearRect(0,0,960,600);
	context.fillStyle = "#FA0";
	context.font = 'bold 12px Courier New';

	context.save();

	drawBackground(context);
	drawLines(context);

	context.restore();
}